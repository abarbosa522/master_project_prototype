<!DOCTYPE html>
<html>
  <head>
    <title>Survey 1</title>

    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>

    <!-- CSS Stylesheet -->
    <link rel = 'stylesheet' type = 'text/css' href = '../../css/survey1.css' />

    <!-- jQuery -->
    <script type = 'text/javascript' src = '../../js/shared/jquery-3.1.0.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/jquery-ui-1.12.0/jquery-ui.js'></script>

    <!-- AngularJS -->
    <script src = '../../js/shared/angular.min.js'></script>

    <!-- AngularJS Modules -->
    <script src = '../../js/app.js'></script>

    <!-- AngularJS Controllers -->
    <script src = '../../js/controllers/Survey1/SurveyController.js'></script>

    <!-- Bootstrap -->
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap.min.css' />
    <link rel = 'stylesheet' href = '../../js/shared/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css' />
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.js'></script>
    <script type = 'text/javascript' src = '../../js/shared/bootstrap-3.3.7-dist/js/bootstrap.min.js'></script>
  </head>

  <body ng-app = 'decisionSpace' ng-controller = 'SurveyController'>
    <div class = 'container'>

      <h1>Survey 1 - Smart Cities</h1>

      <h2>Step 1: Check (and add) the classes and attributes that you find relevant</h2>

      <div class = 'row'>
        <table class = 'table'>
          <thead>
            <tr>
              <td class = 'col-md-3'>
                <form class = 'form-inline'>
                  <input class = 'form-control' type = 'text' ng-model = 'newAttribute' placeholder = 'Add an Attribute'/>
                  <button class = 'btn btn-success' ng-click = 'addAttribute()'>
                    <span class = 'glyphicon glyphicon-plus'></span>
                  </button>
                </form>
              </td>
            </tr>
          </thead>
        </table>
      </div>

      <div class = 'row'>
        <table class = 'table table-bordered table-striped table-hover table-condensed tableCenter'>
          <thead>
            <tr>
              <th class = 'col-md-3 text-center'>Attributes</th>
              <th class = 'text-center'>Classes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td ng-repeat = 'type in types'>
                {{type.name}}

                <button class = 'btn btn-danger btn-xs delete-btn' ng-click = 'deleteType(type.name)'>
                  <span class = 'glyphicon glyphicon-remove'></span>
                </button>
              </td>
              <td class = 'col-md-3'>
                <form class = 'form-inline'>
                  <input class = 'form-control' type = 'text' ng-model = 'newType' placeholder = 'Add a Class'/>
                  <button class = 'btn btn-success' ng-click = 'addType()'>
                    <span class = 'glyphicon glyphicon-plus'></span>
                  </button>
                </form>
              </td>
            </tr>
            <tr ng-repeat = 'attribute in attributes'>
              <td>{{attribute.name}}</td>
              <td ng-repeat = 'type in types'>
                <input type = 'radio' ng-checked = 'type.name == attribute.type' ng-click = 'updateAttrTypesList(attribute.name, type.name)'>
              </td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>

      <h2>Step 2: Assign the two smart cities that have been analysed by your group to one or more than one class</h2>
      <div class = 'row'>
        <table class = 'table table-bordered table-striped table-hover tableCenter'>
          <thead>
            <tr>
              <th class = 'col-md-3 text-center'>Cities</th>
              <th class = 'text-center'>Classes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td ng-repeat = 'type in types'>
                {{type.name}}
              </td>
            </tr>
            <tr ng-repeat = 'city in cities'>
              <td>{{city.name}}</td>
              <td ng-repeat = 'type in types'>
                <input type = 'radio' ng-checked = 'cityClassChecked(city.name, type.name)' ng-click = 'updateCityClass(city.name, type.name)'>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class = 'buttonWrapper'>
        <button class = 'btn btn-success' ng-click = 'submitForm(true)' >
          <span class = 'glyphicon glyphicon-ok'></span>
          Submit
        </button>

        <button class = 'btn btn-danger' ng-click = 'reset()' >
          <span class = 'glyphicon glyphicon-trash'></span>
          Reset
        </button>

        <button class = 'btn btn-info' ng-click = 'reload()' >
          <span class = 'glyphicon glyphicon-refresh'></span>
          Reload
        </button>
      </div>

      <br>

      <div class = 'alert alert-success' ng-if = 'showSuccessAlert'>
        <strong>Success!</strong> Thank you for your collaboration!
      </div>

      <p><sub>If you need any help, just send a message to andre.dionisio.barbosa@ist.utl.pt</sub></p>

    </div>
  </body>
</html>
